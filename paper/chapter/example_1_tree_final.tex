\begin{figure}
\centering
\begin{tikzpicture}
\draw [lightgray](0,0) --(0,20) -- (15,20)-- (15,0) --(0,0);
\draw [lightgray](0,1) --(15,1);
\draw [lightgray](0,2) --(15,2);
\draw [lightgray](0,3) --(15,3);
\draw [lightgray](0,4) --(15,4);
\draw [lightgray](0,5) --(15,5);
\draw [lightgray](0,6) --(15,6);
\draw [lightgray](0,7) --(15,7);
\draw [lightgray](0,8) --(15,8);
\draw [lightgray](0,9) --(15,9);
\draw [lightgray](0,10) --(15,10);
\draw [lightgray](0,11) --(15,11);
\draw [lightgray](0,12) --(15,12);
\draw [lightgray](0,13) --(15,13);
\draw [lightgray](0,14) --(15,14);
\draw [lightgray](0,15) --(15,15);
\draw [lightgray](0,16) --(15,16);
\draw [lightgray](0,17) --(15,17);
\draw [lightgray](0,18) --(15,18);
\draw [lightgray](0,19) --(15,19);
\draw [lightgray](0,20) --(15,20);

\draw [lightgray](0,7.5) --(7.5,20);

\node [below] at (10,10) {$ initial \ \mathcal{K}$};
\node [below] at (10,9.6) {$\texttt{Len-Split}$};

\draw [->] (10,9.3) -- (8,8.5);
\draw [->] (10,9.3) -- (12,8.5);


\draw [->] (5,5) -- (4,4.5);
\node [right] at (2,8) {$\texttt{F:= F},\texttt{con}(x,l_1,z)\mapsto (x,l_1,z),\texttt{con}(y,l_2,z)\mapsto(y,l_2,z)$};
\node [right] at (6,7.2) {$\texttt{F-Unify}$};
\draw [->] (6,7.8) -- (6,6.8);
\node [right] at (5,6.5) {$\texttt{S:= S},x\approx y$};

\end{tikzpicture}
\caption{The derivation tree for example 1.}
\end{figure}


